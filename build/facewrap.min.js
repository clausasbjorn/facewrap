(function(){var e=angular.module("facewrap",[]);e.provider("$facewrap",function(){var e=false;return{init:function(t){if(!t||!t.appId)throw"Facewrap must be initialized with app Id";window.fbAsyncInit=function(){FB.init({appId:t.appId,cookie:t.cookie||true,xfbml:t.xfbml||true,version:t.version||"v2.0"});e=true};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;r=e.createElement(t);r.id=n;r.src="//connect.facebook.net/en_US/sdk.js";i.parentNode.insertBefore(r,i)})(document,"script","facebook-jssdk")},$get:["$rootScope","$q",function(t,n){return{getLoginStatus:function(){var r=n.defer();if(!e){console.log("Facewrap has not been initialized");r.reject(null)}else{FB.getLoginStatus(function(e){t.$apply(function(){r.resolve(e)})})}return r.promise},login:function(){var r=n.defer();if(!e){console.log("Facewrap has not been initialized");r.reject(null)}else{FB.login(function(e){t.$apply(function(){if(e.status==="connected"){r.resolve(e)}else if(e.status==="not_authorized"){r.reject(e)}else{r.reject(e)}})})}return r.promise},me:function(){var r=n.defer();if(!e){console.log("Facewrap has not been initialized");r.reject(null)}else{FB.api("/me",function(e){t.$apply(function(){r.resolve(e)})})}return r.promise}}}]}})})()